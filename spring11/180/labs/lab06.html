<html>

<head>
<title>CS 180: Data Structures</title>
</head>

<body>

<!-- begin table of contents -->
<center>
<a href="../index.html">Course Home</a> |
<a href="../policies.html">Course Policies</a> |
<A HREF="../homework/">Homework</A> |
<A HREF="http://mathcs.slu.edu/undergrad-cs/lab-hours">Lab Open Hours</A> |
<A HREF="../programming/">Programming</A> |
<b>Labs</b> |
<A HREF="../schedule.html">Schedule & Lecture Notes</A>
</center>
<!--  end table of contents  -->


<p>
<hr>


<h1>Lab Assignment 6

</h1>

<table>
  <tr>
    <td>
	<b>Topic:</b>
    </td>
    <td>
	Tanning Salon
    </td>
  </tr>
  <tr>
    <td>
	<b>Source Code:</b>
    </td>
    <td>
	<tt>salon.cpp</tt>
    </td>
  </tr>
  <tr>
    <td>
	<b>Live Archive Ref#:</b>
    </td>
    <td>
	<a href="http://acmicpc-live-archive.uva.es/nuevoportal/data/problem.php?p=2538">2538</a>
    </td>
  </tr>
  <tr>
    <td>
	<br>
	<b>In-Class Day:</b>
    </td>
    <td>
	<br>
	Tuesday, March 8, 2011

    </td>
  </tr>
  <tr>
    <td>
	<b>Submission Deadline:</b>
    </td>
    <td>
	Friday, March 11, 11:59pm

    </td>
  </tr>
  <tr>
    <td>
	<br>
	<b>Techniques:</b>
    </td>
    <td>
	<br>
	Various
    </td>
  </tr>
</table>

<p>
Please review the
<a href="../#general">general information about lab assignments</a>.

<p>

For this lab, I have also included the source input and output files which I will test your code on: <a href="salon/salon.in">input file</a> and <a href="salon/salon.out">output file</a>.

<hr>

<h1>Tanning Salon</h1>

<p>
Tan Your Hide, Inc., owns several coin-operated tanning salons. Research has
shown that if a customer arrives and there are no beds available, the
customer will turn around and leave, thus costing the
company a sale. Your task is to write a program that tells
the company how many customers left without tanning.
</p>

<p>The input consists of data for one or more salons, followed by a line
containing the number 0 that signals the end of the input.  Data for each 
salon is a single line containing a positive integer, representing the number
of tanning beds in the salon, followed by
a space, followed by a sequence of uppercase letters. Letters in the sequence
occur in pairs. The first occurrence indicates the arrival of a customer, the 
second indicates the departure of that same customer. No letter will occur in
more than one pair. 

Customers who leave without tanning always depart before customers who
are currently tanning.

There are at most 20 beds per salon.
</p>

<p>For each salon, output a sentence telling how many customers, if any,
walked away. Use the exact format shown below.
</p>

<p>
<table BORDER="1"  CELLPADDING="20" WIDTH="80%">
<tr>
<td VALIGN=TOP><b>Example input:</b>
<PRE>2 ABBAJJKZKZ
3 GACCBDDBAGEE
3 GACCBGDDBAEE
1 ABCBCA
0
</PRE>
</td>

<td VALIGN=TOP><b>Example output:</b>
<PRE>All customers tanned successfully.
1 customer(s) walked away.
All customers tanned successfully.
2 customer(s) walked away.
</PRE>
</td>
</tr>
</table>

<hr>

<h1>Hints</h1>

<p>
I'll admit that I picked this problem because, superficially, it
seemed like the salon behaves sort of like a stack, or a queue, or a
leaky stack, or something along those lines.  In reality, none of
those abstractions apply.
Instead, the only data structure you will need is a raw array, keeping
track of which people are tanning, which are tentatively waiting, and
which are not there (either because they never show or they came and
left).  You'll need a few other counters to keep track of the number
of customers currently there and the number who walked away without
tanning.


<p>
Although there are several possible approaches, we suggest the following.
We will rely on the fact that people are represented by the
upper case letters from A to Z and that we can convert those
characters to indices from 0 to 25.  Given character value <tt>val</tt>
the appropriate index is computed as <nobr><tt>val - 'A'</tt></nobr>.
Our primary structure will be an array with an entry for each possible
customer.  There are three possible states for a customer: tanning,
waiting, or absent.  You can either use an array of integers, using
values 0, 1, and 2 to distinguish.  Even better for readibility is to
use an enumerated type.  First declare
<pre>
   enum Status {TANNING, WAITING, ABSENT};
</pre>
and then declare your array as
<pre>
   Status customer[26];
</pre>
From this point on, you can assign entries of the array to values,
such as setting <tt>customer[k]&nbsp;=&nbsp;ABSENT</tt> for all
customers to initialize a trial.


All that's left is to loop through the input string and decide how to
accurately update the simulation for each step.


<h3>Pre-lab</h3>

What would the output be if the following was entered:<br>
<tt>
    3 ABCABCDEFFED<br>
    2 ABCABCDEFFED<br>
    0<br>
</tt>


  </body>
</html>

